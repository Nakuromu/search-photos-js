{"mappings":"AAEA,MAAMA,EAAeC,SAASC,cAAc,gBACtCC,EAAmBF,SAASC,cAAc,yBAC1CE,EAAcH,SAASC,cAAc,6BAErCG,EAAiB,ICLR,MAMXC,gBACI,MAKMC,EAAM,uCAAuCC,KAAKC,2CAA2CD,KAAKE,OAExGC,MAAMJ,EAPU,CACZK,QAAS,CACLC,cAAe,sCAMtBC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACFT,KAAKU,gBAEED,EAAKE,W,CAIpBD,gBACIV,KAAKE,MAAO,C,CAGhBU,YACIZ,KAAKE,KAAO,C,CAGZW,YACA,OAAOb,KAAKC,W,CAGZY,UAAMC,GACNd,KAAKC,YAAca,C,CAnCvBC,cACIf,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GD2BpB,SAASc,EAAaP,GAClB,MAAMQ,EAASR,EAAKS,KAAIC,GACb,YAAYA,EAAKpB,6CAEZoB,EAAKC,oCACXD,EAAKE,qCACKF,EAAKG,0BAChBH,EAAKI,gDAGXC,KAAK,IAER7B,EAAiB8B,mBAAmB,YAAaR,E,CAnCrDzB,EAAakC,iBAAiB,UAG9B,SAAkBC,GAKd,GAJAA,EAAMC,iBACN/B,EAAegB,MAAQc,EAAME,OAAOC,SAASjB,MAAMkB,MACnDlC,EAAee,YAEa,KAAzBf,EAAegB,MACd,OAAOmB,MAAM,uBAGjBnC,EAAeC,gBAAgBQ,MAAKK,IA2BpChB,EAAiBsC,UAAY,GAzBzBjB,EAAaL,GACbf,EAAYsC,UAAUC,OAAO,YAAY,G,IAdjDvC,EAAY8B,iBAAiB,SAkB7B,WACI7B,EAAeC,gBAAgBQ,KAAKU,E","sources":["src/JS/news.js","src/JS/API.js"],"sourcesContent":["import NewsApiService from './API'\n\nconst searchFormEl = document.querySelector('.search-form');\nconst articleConteiner = document.querySelector('.js-article-conteiner');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]')\n\nconst newsApiService = new NewsApiService();\n\nsearchFormEl.addEventListener('submit', onSearch)\nloadMoreBtn.addEventListener('click', onLoadMore)\n\nfunction onSearch(event){\n    event.preventDefault();\n    newsApiService.query = event.target.elements.query.value;\n    newsApiService.resetPage();\n\n    if(newsApiService.query === ''){\n        return alert('Enter correct data!');\n    }\n\n    newsApiService.fetchArticles().then(articles => {\n        clearArticleConteiner();\n        appendMarkup(articles);\n        loadMoreBtn.classList.remove('is-hidden');\n    });\n}\n\nfunction onLoadMore() {\n    newsApiService.fetchArticles().then(appendMarkup);\n}\n\nfunction appendMarkup(data) {\n    const markup = data.map(item => {\n        return `<a href=\"${item.url}\">\n      <article>\n        <img src=\"${item.urlToImage}\" alt=\"\">\n        <h2>${item.title}</h2>\n        <p>Posted by: ${item.author}</p>\n        <p>${item.description}</p>\n      </article>\n    </a>`;\n    }).join('');\n\n    articleConteiner.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearArticleConteiner(){\n    articleConteiner.innerHTML = '';\n}","\nexport default class NewsApiService {\n    constructor(){\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    fetchArticles(){\n        const options = {\n            headers: {\n                Authorization: '682ce8dcadbc49288521729e978446f2'\n            }\n        }\n        const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n\n        fetch(url,options)\n        .then(r => r.json())\n        .then(data => {\n            this.incrementPage();\n            \n            return data.articles;\n        })\n    }\n\n    incrementPage(){\n        this.page +=1;\n    }\n    \n    resetPage(){\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery){\n        this.searchQuery = newQuery;\n    }\n}"],"names":["$dae870812f5047bc$var$searchFormEl","document","querySelector","$dae870812f5047bc$var$articleConteiner","$dae870812f5047bc$var$loadMoreBtn","$dae870812f5047bc$var$newsApiService","fetchArticles","url","this","searchQuery","page","fetch","headers","Authorization","then","r","json","data","incrementPage","articles","resetPage","query","newQuery","constructor","$dae870812f5047bc$var$appendMarkup","markup","map","item","urlToImage","title","author","description","join","insertAdjacentHTML","addEventListener","event","preventDefault","target","elements","value","alert","innerHTML","classList","remove"],"version":3,"file":"index.9f33b00e.js.map"}